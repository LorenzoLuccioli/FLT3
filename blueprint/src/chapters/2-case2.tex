\chapter*{Case 2}
%\label{chap:case2}
\addcontentsline{toc}{chapter}{Case 2}

\begin{lemma}
    \label{lmm:three_dvd_gcd_of_dvd_a_of_dvd_b}
    \lean{three_dvd_gcd_of_dvd_a_of_dvd_b}
    \leanok
    Let $a, b, c \in \N$. \\
    Let $3 \divides a$ and $3 \divides b$. \\
    Let $a ^ 3 + b ^ 3 = c ^ 3$. \\\\
    Then $3 \divides \gcd(\set{a, b, c})$.
\end{lemma}
\begin{proof}
    \leanok
    % TODO
\end{proof}

\begin{lemma}
    \label{lmm:three_dvd_gcd_of_dvd_a_of_dvd_c}
    \lean{three_dvd_gcd_of_dvd_a_of_dvd_c}
    \leanok
    %\uses{}
    Let $a, b, c \in \N$. \\
    Let $3 \divides a$ and $3 \divides c$. \\
    Let $a ^ 3 + b ^ 3 = c ^ 3$. \\\\
    Then $3 \divides \gcd(\set{a, b, c})$.
\end{lemma}
\begin{proof}
    \leanok
    % TODO
\end{proof}

\begin{lemma}
    \label{lmm:three_dvd_gcd_of_dvd_b_of_dvd_c}
    \lean{three_dvd_gcd_of_dvd_b_of_dvd_c}
    \leanok
    Let $a, b, c \in \N$. \\
    Let $3 \divides b$ and $3 \divides c$. \\
    Let $a ^ 3 + b ^ 3 = c ^ 3$. \\\\
    Then $3 \divides \gcd(\set{a, b, c})$.
\end{lemma}
\begin{proof}
    \leanok
    % TODO
\end{proof}

\begin{theorem}
    \label{thm:fermatLastTheoremThree_of_three_dvd_only_c}
    \lean{fermatLastTheoremThree_of_three_dvd_only_c}
    \leanok
    %\uses{}
    To prove \Cref{thm:fermatLastTheoremThree}, it suffices to prove that
    $$\forall a, b, c \in \Z, \text{ if } c \neq 0 \text{ and } 3 \notdivides a \text{ and }
    3 \notdivides b \text{ and } 3 \divides c \text{ and } \gcd(a,b)=1,
    \text{ then } a^3 + b^3 \neq c^3.$$
\end{theorem}
\begin{proof}
    \leanok
    \uses{
    lmm:fermatLastTheoremWith_of_fermatLastTheoremWith_coprime,
    thm:fermatLastTheoremThree_case_1,
    lmm:three_dvd_gcd_of_dvd_a_of_dvd_b,
    lmm:three_dvd_gcd_of_dvd_a_of_dvd_c,
    lmm:three_dvd_gcd_of_dvd_b_of_dvd_c
    }
    % TODO
\end{proof}

\begin{definition}[Solution']
    \label{def:Solution1}
    \lean{Solution'}
    \leanok
    Let $a, b, c \in \cc{O}_K$ such that $c \neq 0$ and $\gcd(a,b)=1$.\\
    Let $\lambda \notdivides a$, $\lambda \notdivides b$ and $\lambda \divides c$. \\\\
    A $\boldsymbol{solution'}$ is a tuple $S'=(a, b, c, u)$
    satisfying the equation $a^3 + b^3 = u \cdot c^3.$
\end{definition}

\begin{definition}[Solution]
    \label{def:Solution}
    \lean{Solution}
    \leanok
    Let $a, b, c \in \cc{O}_K$ such that $c \neq 0$ and $\gcd(a,b)=1$.\\
    Let $\lambda \notdivides a$, $\lambda \notdivides b$, $\lambda \divides c$ and
    $\lambda^2 \divides a+b$. \\\\
    A $\boldsymbol{solution}$ is a tuple $S=(a, b, c, u)$
    satisfying the equation $a^3 + b^3 = u \cdot c^3$.
\end{definition}

\begin{definition}[Multiplicity of Solution']
    \label{def:Solution1_Multiplicity}
    \lean{Solution'.multiplicity}
    \leanok
    \uses{def:Solution1}
    Let $S'=(a, b, c, u)$ be a $solution'$. \\\\
    The $\boldsymbol{multiplicity}$ of $S'$ is the largest $n \in \N$ such that
    $\lambda^n \divides c$.
\end{definition}

\begin{definition}[Multiplicity of Solution]
    \label{def:Solution_Multiplicity}
    \lean{Solution.multiplicity}
    \leanok
    \uses{def:Solution}
    Let $S=(a, b, c, u)$ be a $solution$. \\\\
    The $\boldsymbol{multiplicity}$ of $S$ is the largest $n \in \N$ such that
    $\lambda^n \divides c$.
\end{definition}

\begin{definition}[Minimal Solution]
    \label{def:Solution_Minimal}
    \lean{Solution.isMinimal}
    \leanok
    \uses{def:Solution}
    Let $S=(a, b, c, u)$ be a $solution$. \\\\
    We say that $S$ is $\boldsymbol{minimal}$ if for all solutions $S_1=(a_1,b_1,c_1,u_1)$,
    the $multiplicity$ of $S$ is less than or equal to the $multiplicity$ of $S_1$.
\end{definition}

\begin{lemma}
    \label{lmm:Solution1.multiplicity_lambda_c_finite}
    \lean{Solution'.multiplicity_lambda_c_finite}
    \leanok
    \uses{def:Solution1}
    Let $S'=(a, b, c, u)$ be a $solution'$. \\\\
    Then the multiplicity of $S'$ is finite.
\end{lemma}
\begin{proof}
    \leanok
    \uses{lmm:lambda_not_unit}
    % TODO
\end{proof}

\begin{lemma}
    \label{lmm:exists_minimal}
    \lean{Solution.exists_minimal}
    \leanok
    \uses{def:Solution, def:Solution_Minimal}
    Let $S$ be a $solution$. \\\\
    Then there is a minimal solution $S_1$.
\end{lemma}
\begin{proof}
    \leanok
\end{proof}

\begin{lemma}
    \label{lmm:a_cube_b_cube_same_congr}
    \lean{a_cube_b_cube_same_congr}
    \leanok
    \uses{def:Solution1}
    Let $S'=(a, b, c, u)$ be a $solution'$. \\\\
    Then $a \equiv b \equiv 1 (\mod \lambda^4)$ or $a \equiv b \equiv -1 (\mod \lambda^4)$.
\end{lemma}
\begin{proof}
    \leanok
    \uses{lmm:lambda_pow_four_dvd_cube_sub_one_or_add_one_of_lambda_not_dvd,
    lmm:lambda_not_dvd_two}
\end{proof}

\begin{lemma}
    \label{lmm:lambda_pow_four_dvd_c_cube}
    \lean{lambda_pow_four_dvd_c_cube}
    \leanok
    \uses{def:Solution1}
    Let $S'=(a, b, c, u)$ be a $solution'$. \\\\
    Then $\lambda^4 \divides c^3$.
\end{lemma}
\begin{proof}
    \leanok
    \uses{lmm:a_cube_b_cube_same_congr}
\end{proof}

\begin{lemma}
    \label{lmm:lambda_pow_two_dvd_c}
    \lean{lambda_pow_two_dvd_c}
    \leanok
    \uses{def:Solution1}
    Let $S'=(a, b, c, u)$ be a $solution'$. \\\\
    Then $\lambda^2 \divides c$.
\end{lemma}
\begin{proof}
    \leanok
    \uses{lmm:multiplicity_lambda_c_finite,
    lmm:lambda_pow_four_dvd_c_cube,
    lambda_prime}
\end{proof}

\begin{lemma}
    \label{lmm:Solution1.two_le_multiplicity}
    \lean{Solution'.two_le_multiplicity}
    \leanok
    \uses{def:Solution1}
    Let $S'=(a, b, c, u)$ be a $solution'$ with multiplicity $n$.\\\\
    Then $2 \leq n$.
\end{lemma}
\begin{proof}
    \leanok
    \uses{lmm:lambda_pow_two_dvd_c}
\end{proof}

\begin{lemma}
    \label{lmm:Solution.two_le_multiplicity}
    \lean{Solution.two_le_multiplicity}
    \leanok
    \uses{def:Solution}
    Let $S=(a, b, c, u)$ be a $solution$ with multiplicity $n$.\\\\
    Then $2 \leq n$.
\end{lemma}
\begin{proof}
    \leanok
    \uses{lmm:Solution1.two_le_multiplicity}
\end{proof}

\begin{lemma}
    \label{lmm:cube_add_cube_eq_mul}
    \lean{cube_add_cube_eq_mul}
    \leanok
    \uses{def:Solution1}
    Let $S'=(a, b, c, u)$ be a $solution'$.\\\\
    Then $a^3 + b^3 = (a + b) \cdot (a + \eta \cdot b) \cdot (a + \eta^2 \cdot b)$.
\end{lemma}
\begin{proof}
    \leanok
    \uses{lmm:toInteger_cube_eq_one, lmm:toInteger_eval_cyclo}
\end{proof}

\begin{lemma}
    \label{lmm:lambda_sq_dvd_or_dvd_or_dvd}
    \lean{lambda_sq_dvd_or_dvd_or_dvd}
    \leanok
    \uses{def:Solution1}
    Let $S'=(a, b, c, u)$ be a $solution'$.\\\\
    Then $\lambda^2 \divides a + b \lor \lambda^2 \divides a +
    \eta \cdot b \lor \lambda^2 \divides a + \eta^2 \cdot b$.
\end{lemma}
\begin{proof}
    \leanok
    \uses{lmm:lambda_pow_two_dvd_c, lmm:cube_add_cube_eq_mul,
    lmm:zeta_sub_one_prime1}
\end{proof}

\begin{lemma}
    \label{lmm:ex_dvd_a_add_b}
    \lean{ex_dvd_a_add_b}
    \leanok
    \uses{def:Solution1}
    Let $S'=(a, b, c, u)$ be a $solution'$.\\\\
    Then $\exists a_1,b_1 \in \cc{O}_k$ such that $S_1=(a_1,b_1,c,u)$ is a $solution$.
\end{lemma}
\begin{proof}
    \leanok
    \uses{lmm:lambda_sq_dvd_or_dvd_or_dvd, lmm:toInteger_cube_eq_one}
\end{proof}

\begin{lemma}
    \label{lmm:exists_Solution_of_Solution1}
    \lean{exists_Solution_of_Solution'}
    \leanok
    \uses{def:Solution1, def:Solution}
    Let $S$ be a $solution$ with multiplicity $n$.\\\\
    Then there is a $solution'\text{ }S'$ with multiplicity $n$.
\end{lemma}
\begin{proof}
    \leanok
    \uses{lmm:ex_dvd_a_add_b}
\end{proof}

\begin{lemma}
    \label{lmm:a_add_eta_b}
    \lean{Solution.a_add_eta_b}
    \leanok
    \uses{def:Solution}
    Let $S=(a, b, c, u)$ be a $solution$.\\\\
    Then $a + \eta \cdot b = (a + b) + \lambda \cdot b$.
\end{lemma}
\begin{proof}
    \leanok
\end{proof}

\begin{lemma}
    \label{lmm:lambda_dvd_a_add_eta_mul_b}
    \lean{Solution.lambda_dvd_a_add_eta_mul_b}
    \leanok
    \uses{def:Solution}
    Let $S=(a, b, c, u)$ be a $solution$.\\\\
    Then $\lambda \divides a + \eta \cdot b$.
\end{lemma}
\begin{proof}
    \leanok
    \uses{lmm:a_add_eta_b}
\end{proof}

\begin{lemma}
    \label{lmm:lambda_dvd_a_add_eta_sq_mul_b}
    \lean{Solution.lambda_dvd_a_add_eta_sq_mul_b}
    \leanok
    \uses{def:Solution}
    Let $S=(a, b, c, u)$ be a $solution$.\\\\
    Then $\lambda \divides a + \eta^2 \cdot b$.
\end{lemma}
\begin{proof}
    \leanok
\end{proof}

\begin{lemma}
    \label{lmm:lambda_sq_not_a_add_eta_mul_b}
    \lean{Solution.lambda_sq_not_a_add_eta_mul_b}
    \leanok
    \uses{def:Solution}
    Let $S=(a, b, c, u)$ be a $solution$.\\\\
    Then $\lambda^2 \notdivides a + \eta \cdot b$.
\end{lemma}
\begin{proof}
    \leanok
    \uses{lmm:a_add_eta_b, lmm:lambda_ne_zero}
\end{proof}

\begin{lemma}
    \label{lmm:lambda_sq_not_dvd_a_add_eta_sq_mul_b}
    \lean{Solution.lambda_sq_not_dvd_a_add_eta_sq_mul_b}
    \leanok
    \uses{def:Solution}
    Let $S=(a, b, c, u)$ be a $solution$.\\\\
    Then $\lambda^2 \notdivides a + \eta^2 \cdot b$.
\end{lemma}
\begin{proof}
    \leanok
    \uses{lmm:lambda_ne_zero, lmm:toInteger_eval_cyclo}
\end{proof}

\begin{lemma}
    \label{lmm:eta_add_one_inv}
    \lean{Solution.eta_add_one_inv}
    \leanok
    \uses{def:Solution}
    Let $S=(a, b, c, u)$ be a $solution$.\\\\
    Then $(\eta + 1) \cdot (-\eta) = 1$.
\end{lemma}
\begin{proof}
    \leanok
    \uses{lmm:toInteger_eval_cyclo}
\end{proof}

\begin{lemma}
    \label{lmm:associated_of_dvd_a_add_b_of_dvd_a_add_eta_mul_b}
    \lean{Solution.associated_of_dvd_a_add_b_of_dvd_a_add_eta_mul_b}
    \leanok
    \uses{def:Solution}
    Let $S=(a, b, c, u)$ be a $solution$.\\
    Let $p \in \cc{O}_K$ be a prime such that $p \divides a+b$
    and $p \divides a+\eta \cdot b$.\\\\
    Then $p$ is associated with $\lambda$.
\end{lemma}
\begin{proof}
    \leanok
    \uses{lmm:lambda_prime}
\end{proof}

\begin{lemma}
    \label{lmm:associated_of_dvd_a_add_b_of_dvd_a_add_eta_sq__mul_b}
    \lean{Solution.associated_of_dvd_a_add_b_of_dvd_a_add_eta_sq__mul_b}
    \leanok
    \uses{def:Solution}
    Let $S=(a, b, c, u)$ be a $solution$.\\
    Let $p \in \cc{O}_K$ be a prime such that $p \divides a+b$
    and $p \divides a+\eta^2 \cdot b$.\\\\
    Then $p$ is associated with $\lambda$.
\end{lemma}
\begin{proof}
    \leanok
    \uses{lmm:lambda_prime, lmm:eta_add_one_inv, lmm:toInteger_cube_eq_one}
\end{proof}

\begin{lemma}
    \label{lmm:associated_of_dvd_a_add_eta_mul_b_of_dvd_a_add_eta_sq__mul_b}
    \lean{Solution.associated_of_dvd_a_add_eta_mul_b_of_dvd_a_add_eta_sq__mul_b}
    \leanok
    \uses{def:Solution}
    Let $S=(a, b, c, u)$ be a $solution$.\\
    Let $p \in \cc{O}_K$ be a prime such that $p \divides a+\eta \cdot b$
    and $p \divides a+\eta^2 \cdot b$.\\\\
    Then $p$ is associated with $\lambda$.
\end{lemma}
\begin{proof}
    \leanok
    \uses{lmm:lambda_prime}
\end{proof}

\begin{definition}[y]
    \label{def:Solution_y}
    \lean{Solution.y}
    \leanok
    \uses{def:Solution}
    Let $S=(a, b, c, u)$ be a $solution$.\\\\
    We define $y \in \cc{O}_K$ such that $a + \eta \cdot b = \lambda \cdot y$.
\end{definition}

\begin{definition}[z]
    \label{def:Solution_z}
    \lean{Solution.z}
    \leanok
    \uses{def:Solution}
    Let $S=(a, b, c, u)$ be a $solution$.\\\\
    We define $z \in \cc{O}_K$ such that $a + \eta^2 \cdot b = \lambda \cdot z$.
\end{definition}

\begin{definition}[x]
    \label{def:Solution_x}
    \lean{Solution.x}
    \leanok
    \uses{def:Solution}
    Let $S=(a, b, c, u)$ be a $solution$ with multiplicity $n$.\\\\
    We define $x \in \cc{O}_K$ such that $a + b = \lambda^{3\cdot n-2} \cdot x$.
\end{definition}

\begin{definition}[w]
    \label{def:Solution_w}
    \lean{Solution.w}
    \leanok
    \uses{def:Solution}
    Let $S=(a, b, c, u)$ be a $solution$ with multiplicity $n$.\\\\
    We define $w \in \cc{O}_K$ such that $c = \lambda^n \cdot w$.
\end{definition}

\begin{lemma}
    \label{lmm:lambda_not_dvd_y}
    \lean{Solution.lambda_not_dvd_y}
    \leanok
    \uses{def:Solution}
    Let $S$ be a $solution$.\\\\
    Then $\lambda \notdivides y$.
\end{lemma}
\begin{proof}
    \leanok
    \uses{lmm:lambda_sq_not_a_add_eta_mul_b}
\end{proof}

\begin{lemma}
    \label{lmm:lambda_not_dvd_z}
    \lean{Solution.lambda_not_dvd_z}
    \leanok
    \uses{def:Solution}
    Let $S$ be a $solution$.\\\\
    Then $\lambda \notdivides z$.
\end{lemma}
\begin{proof}
    \leanok
    \uses{lmm:lambda_sq_not_dvd_a_add_eta_sq_mul_b}
\end{proof}

\begin{lemma}
    \label{lmm:lambda_pow_dvd_a_add_b}
    \lean{Solution.lambda_pow_dvd_a_add_b}
    \leanok
    \uses{def:Solution}
    Let $S=(a, b, c, u)$ be a $solution$ with multiplicity $n$.\\\\
    Then $\lambda^{3\cdot n -2} \divides a + b$.
\end{lemma}
\begin{proof}
    \leanok
    \uses{lmm:cube_add_cube_eq_mul, lmm:lambda_prime,
    lmm:lambda_not_dvd_z, lmm:lambda_not_dvd_y, lmm:two_le_multiplicity,
    lmm:lambda_ne_zero}
\end{proof}

\begin{lemma}
    \label{lmm:lambda_not_dvd_w}
    \lean{Solution.lambda_not_dvd_w}
    \leanok
    \uses{def:Solution}
    Let $S$ be a $solution$.\\\\
    Then $\lambda \notdivides w$.
\end{lemma}
\begin{proof}
    \leanok
    \uses{lmm:multiplicity_lambda_c_finite}
\end{proof}

\begin{lemma}
    \label{lmm:lambda_not_dvd_x}
    \lean{Solution.lambda_not_dvd_x}
    \leanok
    \uses{def:Solution}
    Let $S$ be a $solution$.\\\\
    Then $\lambda \notdivides x$.
\end{lemma}
\begin{proof}
    \leanok
    \uses{lmm:lambda_dvd_a_add_eta_mul_b, lmm:lambda_dvd_a_add_eta_sq_mul_b,
    lmm:cube_add_cube_eq_mul, lmm:two_le_multiplicity, lmm:lambda_prime,
    lmm:lambda_not_dvd_w, lmm:lambda_ne_zero}
\end{proof}

\begin{lemma}
    \label{lmm:coprime_x_y}
    \lean{Solution.coprime_x_y}
    \leanok
    \uses{def:Solution}
    Let $S$ be a $solution$.\\\\
    Then $\gcd(x, y) = 1$.
\end{lemma}
\begin{proof}
    \leanok
    \uses{lmm:lambda_not_dvd_y, lmm:associated_of_dvd_a_add_b_of_dvd_a_add_eta_mul_b,
    lmm:lambda_not_dvd_x}
\end{proof}

\begin{lemma}
    \label{lmm:coprime_x_z}
    \lean{Solution.coprime_x_z}
    \leanok
    \uses{def:Solution}
    Let $S$ be a $solution$.\\\\
    Then $\gcd(x, z) = 1$.
\end{lemma}
\begin{proof}
    \leanok
    \uses{lmm:lambda_not_dvd_z, lmm:associated_of_dvd_a_add_b_of_dvd_a_add_eta_sq__mul_b,
    lmm:lambda_not_dvd_x}
\end{proof}

\begin{lemma}
    \label{lmm:coprime_y_z}
    \lean{Solution.coprime_y_z}
    \leanok
    \uses{def:Solution}
    Let $S$ be a $solution$.\\\\
    Then $\gcd(y, z) = 1$.
\end{lemma}
\begin{proof}
    \leanok
    \uses{lmm:lambda_not_dvd_z, lmm:associated_of_dvd_a_add_eta_mul_b_of_dvd_a_add_eta_sq__mul_b,
    lmm:lambda_not_dvd_y}
\end{proof}

\begin{lemma}
    \label{lmm:mult_minus_two_plus_one_plus_one}
    \lean{Solution.mult_minus_two_plus_one_plus_one}
    \leanok
    \uses{def:Solution}
    Let $S$ be a $solution$ with multiplicity $n$.\\\\
    Then $3 \cdot n -2+1+1 = 3 \cdot n$.
\end{lemma}
\begin{proof}
    \leanok
    \uses{lmm:two_le_multiplicity}
\end{proof}

\begin{lemma}
    \label{lmm:x_mul_y_mul_z_eq_u_w_pow_three}
    \lean{Solution.x_mul_y_mul_z_eq_u_w_pow_three}
    \leanok
    \uses{def:Solution}
    Let $S=(a,b,c,u)$ be a $solution$.\\\\
    Then $x \cdot y \cdot z = u \cdot w^3$.
\end{lemma}
\begin{proof}
    \leanok
    \uses{lmm:two_le_multiplicity, lmm:lambda_ne_zero, lmm:cube_add_cube_eq_mul,
    lmm:x_spec, lmm:y_spec, lmm:z_spec, lmm:w_spec}
\end{proof}

\begin{lemma}
    \label{lmm:span_x_mul_span_y_mul_span_z}
    \lean{Solution.span_x_mul_span_y_mul_span_z}
    \leanok
    \uses{def:Solution}
    Let $S=(a,b,c,u)$ be a $solution$.\\
    Let $I_x$ be the ideal generated by $x$. \\
    Let $I_y$ be the ideal generated by $y$. \\
    Let $I_z$ be the ideal generated by $z$. \\
    Let $I_w$ be the ideal generated by $w$. \\\\
    Then $I_x \cdot I_y \cdot I_z = I_w^3$.
\end{lemma}
\begin{proof}
    \leanok
    \uses{lmm:x_mul_y_mul_z_eq_u_w_pow_three}
\end{proof}

\begin{lemma}
    \label{lmm:x_eq_unit_mul_cube}
    \lean{Solution.x_eq_unit_mul_cube}
    \leanok
    \uses{def:Solution}
\end{lemma}
\begin{proof}
    \leanok
    \uses{lmm:x_mul_y_mul_z_eq_u_w_pow_three, lmm:coprime_x_y, lmm:coprime_x_z}
\end{proof}

\begin{lemma}
    \label{lmm:y_eq_unit_mul_cube}
    \lean{Solution.y_eq_unit_mul_cube}
    \leanok
    \uses{def:Solution}
\end{lemma}
\begin{proof}
    \leanok
    \uses{lmm:x_mul_y_mul_z_eq_u_w_pow_three, lmm:coprime_x_y, lmm:coprime_y_z}
\end{proof}

\begin{lemma}
    \label{lmm:z_eq_unit_mul_cube}
    \lean{Solution.z_eq_unit_mul_cube}
    \leanok
    \uses{def:Solution}
\end{lemma}
\begin{proof}
    \leanok
    \uses{lmm:x_mul_y_mul_z_eq_u_w_pow_three, lmm:coprime_x_z, lmm:coprime_y_z}
\end{proof}

\begin{lemma}
    \label{lmm:X_ne_zero}
    \lean{Solution.X_ne_zero}
    \leanok
    \uses{def:Solution}
\end{lemma}
\begin{proof}
    \leanok
    \uses{lmm:u₁_X_spec, lmm:lambda_not_dvd_x}
\end{proof}

\begin{lemma}
    \label{lmm:lambda_not_dvd_X}
    \lean{Solution.lambda_not_dvd_X}
    \leanok
    \uses{def:Solution}
\end{lemma}
\begin{proof}
    \leanok
    \uses{lmm:lambda_not_dvd_x}
\end{proof}

\begin{lemma}
    \label{lmm:lambda_not_dvd_Y}
    \lean{Solution.lambda_not_dvd_Y}
    \leanok
    \uses{def:Solution}
\end{lemma}
\begin{proof}
    \leanok
    \uses{lmm:lambda_not_dvd_y}
\end{proof}

\begin{lemma}
    \label{lmm:lambda_not_dvd_Z}
    \lean{Solution.lambda_not_dvd_Z}
    \leanok
    \uses{def:Solution}
\end{lemma}
\begin{proof}
    \leanok
    \uses{lmm:lambda_not_dvd_z}
\end{proof}

\begin{lemma}
    \label{lmm:coprime_Y_Z}
    \lean{Solution.coprime_Y_Z}
    \leanok
    \uses{def:Solution}
\end{lemma}
\begin{proof}
    \leanok
    \uses{lmm:lambda_not_dvd_Z, lmm:coprime_y_z}
\end{proof}

\begin{lemma}
    \label{lmm:formula1}
    \lean{Solution.formula1}
    \leanok
    \uses{def:Solution}
\end{lemma}
\begin{proof}
    \leanok
    \uses{lmm:u₁_X_spec, lmm:u₂_Y_spec, lmm:u₃_Z_spec,
    lmm:toInteger_cube_eq_one, lmm:toInteger_eval_cyclo}
\end{proof}

\begin{lemma}
    \label{lmm:lambda_sq_dvd_u_mul_cube}
    \lean{Solution.lambda_sq_dvd_u_mul_cube}
    \leanok
    \uses{def:Solution}
\end{lemma}
\begin{proof}
    \leanok
    \uses{lmm:two_le_multiplicity}
\end{proof}

\begin{lemma}
    \label{lmm:formula2}
    \lean{Solution.formula2}
    \leanok
    \uses{def:Solution}
\end{lemma}
\begin{proof}
    \leanok
    \uses{lmm:eta_isUnit, lmm:lambda_ne_zero, lmm:toInteger_cube_eq_one, lmm:two_le_multiplicity,
    lmm:formula1}
\end{proof}

\begin{lemma}
    \label{lmm:lambda_sq_div_lambda_fourth}
    \lean{Solution.lambda_sq_div_lambda_fourth}
    \leanok
\end{lemma}
\begin{proof}
    \leanok
\end{proof}

\begin{lemma}
    \label{lmm:lambda_sq_div_new_X_cubed}
    \lean{Solution.lambda_sq_div_new_X_cubed}
    \leanok
    \uses{def:Solution}
\end{lemma}
\begin{proof}
    \leanok
    \uses{lmm:two_le_multiplicity}
\end{proof}

\begin{lemma}[Kummer]
    \label{lmm:by_kummer}
    \lean{Solution.by_kummer}
    \leanok
    \uses{def:Solution}
\end{lemma}
\begin{proof}
    \leanok
    \uses{lmm:lambda_sq_div_lambda_fourth, lmm:lambda_sq_div_new_X_cubed,
    lmm:eq_one_or_neg_one_of_unit_of_congruent,
    lmm:lambda_pow_four_dvd_cube_sub_one_or_add_one_of_lambda_not_dvd,
    lmm:lambda_not_dvd_Z, lmm:formula2}
\end{proof}

\begin{lemma}
    \label{lmm:final}
    \lean{Solution.final}
    \leanok
    \uses{def:Solution}
\end{lemma}
\begin{proof}
    \leanok
    \uses{lmm:formula2, lmm:by_kummer}
\end{proof}

\begin{definition}[Final Solution']
    \label{def:Solution1_final}
    \lean{Solution'_final}
    \leanok
    \uses{def:Solution1, lmm:two_le_multiplicity, lmm:final}
    % Let $K$ be a number field. \\
    % Let $\cc{O}_K$ be the ring of integers of $K$. \\
    % Let $\cc{O}^\times_K$ be the group of units of $\cc{O}_K$. \\
    % Let $a, b, c \in \cc{O}_K$ such that $\lambda \notdivides a$,
    % $\lambda \notdivides b$, $\lambda \divides c$, $c \neq 0$ and $\gcd(a,b)=1$.\\
    % Let $u \in \cc{O}^\times_K$. \\\\
    % A $\boldsymbol{solution'}$ is a tuple $(a, b, c, u)$
    % satisfying the equation $a^3 + b^3 = u \cdot c^3.$
\end{definition}


\begin{lemma}
    \label{lmm:Solution1_final_multiplicity}
    \lean{Solution'_final_multiplicity}
    \leanok
    \uses{def:Solution, def:Solution1_final}
\end{lemma}
\begin{proof}
    \leanok
    \uses{lmm:lambda_not_dvd_X,
    lmm:lambda_ne_zero}
\end{proof}

\begin{lemma}
    \label{lmm:Solution1_final_multiplicity_lt}
    \lean{Solution'_final_multiplicity_lt}
    \leanok
    \uses{def:Solution, def:Solution1_final}
\end{lemma}
\begin{proof}
    \leanok
    \uses{lmm:Solution1_final_multiplicity, lmm:two_le_multiplicity}
\end{proof}

\begin{theorem}
    \label{lmm:exists_Solution_multiplicity_lt}
    \lean{Solution.exists_Solution_multiplicity_lt}
    \leanok
    \uses{def:Solution}
\end{theorem}
\begin{proof}
    \leanok
    \uses{lmm:exists_Solution_of_Solution1, lmm:Solution1_final_multiplicity_lt}
\end{proof}

\begin{theorem}[Generalised Fermat's Last Theorem for Exponent $3$]
    \label{thm:fermatLastTheoremForThreeGen}
    \lean{fermatLastTheoremForThreeGen}
    \leanok
    Let $a, b, c \in \cc{O}_K$ such that $c \neq 0$ and $\gcd(a,b)=1$. \\
    Let $\lambda \notdivides a$, $\lambda \notdivides b$ and $\lambda \divides c$. \\\\
    Then $a^3 + b^3 \neq u \cdot c^3$.
\end{theorem}
\begin{proof}
    \leanok
    \uses{lmm:exists_Solution_of_Solution1,
    lmm:exists_minimal,
    lmm:exists_Solution_multiplicity_lt
    }
\end{proof}

\begin{lemma}
    \label{lmm:FermatLastTheoremForThree_of_FermatLastTheoremThreeGen}
    \lean{FermatLastTheoremForThree_of_FermatLastTheoremThreeGen}
    \leanok
    To prove \Cref{thm:fermatLastTheoremThree},
    it suffices to prove \Cref{thm:fermatLastTheoremForThreeGen}. \\
    Equivalently, \Cref{thm:fermatLastTheoremForThreeGen} implies
    \Cref{thm:fermatLastTheoremThree}.
\end{lemma}
\begin{proof}
    \leanok
    \uses{
    thm:fermatLastTheoremThree_of_three_dvd_only_c,
    lmm:norm_lambda_prime,
    lmm:norm_lambda,
    lmm:lambda_dvd_three
    }
\end{proof}