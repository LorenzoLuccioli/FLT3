\chapter*{Introduction}
%\label{chap:intro}
\addcontentsline{toc}{chapter}{Introduction}

% Motivation: It's going to be used in the general FLT project
% – Disclaimer / Acknowledgement with my contributions
% – Informalisation should be clear
% – Introduction: definitions + theorem statements + proof strategy
% Porting to Mathlib
% Fermat's Last Theorem (FLT) is a famous problem in number theory. It states that there are no positive integers $a$, $b$, and $c$ such that $a^n + b^n = c^n$ for any integer value of $n$ greater than $2$. The theorem was first conjectured by Pierre de Fermat in 1637 and remained unproven for over 350 years. The first successful proof was given by Andrew Wiles in 1994. The proof is long and complex, and it relies on many different areas of mathematics, including algebraic geometry and modular forms.

Let $K$ be the third cyclotomic field / cyclotomic extension $\Q[e^{\frac{2\pi i}{3}}]$. \\% ASK EXPERTS
Let $\cc{O}_K$ be the ring of integers of $K$. \\
Let $\cc{O}^\times_K$ be the group of units of $\cc{O}_K$. \\
Let $\zeta \in K$ be any primitive $3$-rd root of unity. \\ % ASK EXPERTS
Let $\eta \in \cc{O}_K$ be the element corresponding to $\zeta \in K$. \\
Let $\lambda \in \cc{O}_K$ be such that $\lambda = \eta -1$. \\
Let $u \in \cc{O}^\times_K$.

\begin{lemma}
    \label{lmm:fermatLastTheoremWith_of_fermatLastTheoremWith_coprime}
    \lean{fermatLastTheoremWith_of_fermatLastTheoremWith_coprime}
    \leanok
    Let $R$ be a commutative semiring, domain and normalised gcd monoid.\\% ASK EXPERTS
    Let $a, b, c \in R$. \\
    Let $n \in \N$. \\\\
    To prove Fermat's Last Theorem for exponent $n$ in $R$,
    one can assume, without loss of generality, that $gcd(a,b,c)=1$.
\end{lemma}
\begin{proof}
    \leanok
\end{proof}

\begin{theorem}
    \label{thm:mem}
    \lean{IsCyclotomicExtension.Rat.Three.Units.mem}
    \leanok
    $u \in \set{1, -1, \zeta, -\zeta, \zeta^2, -\zeta^2}$.
\end{theorem}
\begin{proof}
    \leanok
    % TODO
\end{proof}

\begin{theorem}
    \label{thm:not_exists_int_three_dvd_sub}
    \lean{IsCyclotomicExtension.Rat.Three.Units.not_exists_int_three_dvd_sub}
    \leanok
    Let $n \in \Z$. \\ \\
    Then $3 \notdivides \zeta - n$.
\end{theorem}
\begin{proof}
    \leanok
    % TODO
\end{proof}

\begin{lemma}
    \label{lmm:lambda_sq}
    \lean{IsCyclotomicExtension.Rat.Three.lambda_sq}
    \leanok
    $\lambda^2 = -3 \cdot \eta$.
\end{lemma}
\begin{proof}
    \leanok
\end{proof}

\begin{theorem}
    \label{lmm:eq_one_or_neg_one_of_unit_of_congruent}
    \lean{IsCyclotomicExtension.Rat.Three.eq_one_or_neg_one_of_unit_of_congruent}
    \leanok
    If $\exists n \in \Z$ such that $\lambda^2 \divides u - n$, then
    $u = 1 \lor u = -1$. \\
    This is a special case of the Kummer's Lemma (\Cref{lmm:by_kummer}).
\end{theorem}
\begin{proof}
    \leanok
    \uses{thm:not_exists_int_three_dvd_sub, thm:mem, lmm:lambda_sq}
\end{proof}

\begin{lemma}
    \label{lmm:norm_lambda}
    \lean{IsCyclotomicExtension.Rat.Three.norm_lambda}
    \leanok
    The norm of $\lambda$ is $3$.
\end{lemma}
\begin{proof}
    \leanok
\end{proof}

\begin{lemma}
    \label{lmm:norm_lambda_prime}
    \lean{IsCyclotomicExtension.Rat.Three.norm_lambda_prime}
    \leanok
    The norm of $\lambda$ is a prime number.
\end{lemma}
\begin{proof}
    \leanok
    \uses{lmm:norm_lambda}
\end{proof}

\begin{lemma}
    \label{lmm:lambda_dvd_three}
    \lean{IsCyclotomicExtension.Rat.Three.lambda_dvd_three}
    \leanok
    $\lambda \divides 3$.
\end{lemma}
\begin{proof}
    \leanok
    \uses{lmm:norm_lambda}
\end{proof}

\begin{lemma}
    \label{lmm:zeta_sub_one_prime1}
    \lean{IsPrimitiveRoot.zeta_sub_one_prime'}
    \leanok
    % TODO
\end{lemma}
\begin{proof}
    \leanok
\end{proof}

\begin{lemma}
    \label{lmm:lambda_prime}
    \lean{IsPrimitiveRoot.lambda_prime}
    \leanok
    $\lambda$ is a prime number.
\end{lemma}
\begin{proof}
    \leanok
    \uses{lmm:zeta_sub_one_prime1}
\end{proof}

\begin{lemma}
    \label{lmm:lambda_ne_zero}
    \lean{IsCyclotomicExtension.Rat.Three.lambda_ne_zero}
    \leanok
    $\lambda \neq 0$.
\end{lemma}
\begin{proof}
    \leanok
    \uses{lmm:lambda_prime}
\end{proof}

\begin{lemma}
    \label{lmm:lambda_not_unit}
    \lean{IsCyclotomicExtension.Rat.Three.lambda_not_unit}
    \leanok
    $\lambda$ is not a unit.
\end{lemma}
\begin{proof}
    \leanok
    \uses{lmm:lambda_prime}
\end{proof}

\begin{lemma}
    \label{lmm:card_quot}
    \lean{IsCyclotomicExtension.Rat.Three.card_quot}
    \leanok
    Let $I$ be the ideal generated by $\lambda$. \\\\
    $\cc{O}_K / I$ has cardinality $3$.
\end{lemma}
\begin{proof}
    \leanok
    \uses{lmm:norm_lambda}
\end{proof}

\begin{lemma}
    \label{lmm:two_ne_zero}
    \lean{IsCyclotomicExtension.Rat.Three.two_ne_zero}
    \leanok
    Let $I$ be the ideal generated by $\lambda$. \\
    Let $2 \in \cc{O}_K ⧸ I$. \\\\
    Then $2 \neq 0$.
\end{lemma}
\begin{proof}
    \leanok
    \uses{lmm:norm_lambda}
\end{proof}

\begin{lemma}
    \label{lmm:lambda_not_dvd_two}
    \lean{IsCyclotomicExtension.Rat.Three.lambda_not_dvd_two}
    \leanok
    $\lambda \notdivides 2$.
\end{lemma}
\begin{proof}
    \leanok
    \uses{lmm:two_ne_zero}
\end{proof}

\begin{lemma}
    \label{lmm:univ_quot}
    \lean{IsCyclotomicExtension.Rat.Three.univ_quot}
    \leanok
    The universal finite set is $\set{0, 1, -1}$.
\end{lemma}
\begin{proof}
    \leanok
    \uses{lmm:card_quot}
\end{proof}

\begin{lemma}
    \label{lmm:dvd_or_dvd_sub_one_or_dvd_add_one}
    \lean{IsCyclotomicExtension.Rat.Three.dvd_or_dvd_sub_one_or_dvd_add_one}
    \leanok
    Let $x \in \cc{O}_K$. \\\\
    $(\lambda \divides x) \lor (\lambda \divides x-1) \lor (\lambda \divides x+1)$.
\end{lemma}
\begin{proof}
    \leanok
    \uses{lmm:univ_quot}
\end{proof}

\begin{lemma}
    \label{lmm:toInteger_cube_eq_one}
    \lean{IsPrimitiveRoot.toInteger_cube_eq_one}
    \leanok
    $\eta^3 = 1$.
\end{lemma}
\begin{proof}
    \leanok
\end{proof}

\begin{lemma}
    \label{lmm:eta_isUnit}
    \lean{IsPrimitiveRoot.eta_isUnit}
    \leanok
    $\eta$ is a unit.
\end{lemma}
\begin{proof}
    \leanok
    \uses{lmm:toInteger_cube_eq_one}
\end{proof}

\begin{lemma}
    \label{lmm:toInteger_eval_cyclo}
    \lean{IsPrimitiveRoot.toInteger_eval_cyclo}
    \leanok
    $\eta^2 + \eta + 1 = 0$.
\end{lemma}
\begin{proof}
    \leanok
    %\uses{}
\end{proof}

\begin{lemma}
    \label{lmm:cube_sub_one}
    \lean{IsCyclotomicExtension.Rat.Three.cube_sub_one}
    \leanok
    Let $x \in \cc{O}_K$. \\\\
    $x^3 - 1 = (x - 1) \cdot (x - \eta) \cdot (x - \eta^ 2)$.
\end{lemma}
\begin{proof}
    \leanok
    \uses{lmm:toInteger_cube_eq_one, lmm:toInteger_eval_cyclo}
\end{proof}

\begin{lemma}
    \label{lmm:lambda_dvd_mul_sub_one_mul_sub_eta_add_one}
    \lean{IsCyclotomicExtension.Rat.Three.lambda_dvd_mul_sub_one_mul_sub_eta_add_one}
    \leanok
    Let $x \in \cc{O}_K$. \\\\
    $\lambda \divides x \cdot (x - 1) \cdot (x - (\eta + 1))$.
\end{lemma}
\begin{proof}
    \leanok
    \uses{lmm:dvd_or_dvd_sub_one_or_dvd_add_one, lmm:lambda_dvd_three}
\end{proof}

\begin{lemma}
    \label{lmm:lambda_pow_four_dvd_cube_sub_one_of_dvd_sub_one}
    \lean{IsCyclotomicExtension.Rat.Three.lambda_pow_four_dvd_cube_sub_one_of_dvd_sub_one}
    \leanok
    Let $x \in \cc{O}_K$. \\\\
    If $\lambda\divides x - 1$, then $\lambda^ 4 \divides x^3 - 1$.
\end{lemma}
\begin{proof}
    \leanok
    \uses{lmm:cube_sub_one, lmm:lambda_dvd_mul_sub_one_mul_sub_eta_add_one}
\end{proof}

\begin{lemma}
    \label{lmm:lambda_pow_four_dvd_cube_add_one_of_dvd_add_one}
    \lean{IsCyclotomicExtension.Rat.Three.lambda_pow_four_dvd_cube_add_one_of_dvd_add_one}
    \leanok
    Let $x \in \cc{O}_K$. \\\\
    If $\lambda \divides x + 1$, then $\lambda^4 \divides x ^ 3 + 1$.
\end{lemma}
\begin{proof}
    \leanok
    \uses{lmm:lambda_pow_four_dvd_cube_sub_one_of_dvd_sub_one}
\end{proof}

\begin{lemma}
    \label{lmm:lambda_pow_four_dvd_cube_sub_one_or_add_one_of_lambda_not_dvd}
    \lean{IsCyclotomicExtension.Rat.Three.lambda_pow_four_dvd_cube_sub_one_or_add_one_of_lambda_not_dvd}
    \leanok
    Let $x \in \cc{O}_K$. \\\\
    If $\lambda \notdivides x$, then $(\lambda^4 \divides x^3 - 1)
    \lor (\lambda^4 \divides x ^ 3 + 1)$.
\end{lemma}
\begin{proof}
    \leanok
    \uses{lmm:dvd_or_dvd_sub_one_or_dvd_add_one,
    lmm:lambda_pow_four_dvd_cube_sub_one_of_dvd_sub_one,
    lmm:lambda_pow_four_dvd_cube_add_one_of_dvd_add_one}
\end{proof}